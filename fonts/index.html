<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Flash Glass UI</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #050505;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            color: white;
            position: relative;
        }

        /* === ФОНОВЫЕ ПЯТНА === */
        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.6;
            z-index: -1;
            animation: float 15s infinite alternate ease-in-out;
        }
        .blob-1 { width: 500px; height: 500px; background: #8b5cf6; top: -15%; left: -10%; }
        .blob-2 { width: 450px; height: 450px; background: #ec4899; bottom: -15%; right: -5%; animation-delay: -2s; }
        .blob-3 { width: 400px; height: 400px; background: #3b82f6; bottom: 10%; left: 5%; animation-delay: -5s; }
        .blob-4 { width: 350px; height: 350px; background: #f59e0b; top: 10%; right: 10%; animation-delay: -8s; }

        @keyframes float {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(30px, 30px) scale(1.1); }
        }

        /* === КАРТОЧКА === */
        .card {
            width: 320px;
            height: 190px;
            background: rgba(25, 25, 25, 0.3);
            backdrop-filter: blur(35px) saturate(200%);
            -webkit-backdrop-filter: blur(35px) saturate(200%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-top: 1px solid rgba(255, 255, 255, 0.25);
            border-radius: 32px;
            padding: 32px;
            box-sizing: border-box;
            box-shadow: 0 30px 60px rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden; /* Важно: вспышка не вылетает за края */
        }

        /* === СЛОЙ ВСПЫШКИ (FLASH LAYER) === */
        .flash-layer {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; /* Чтобы можно было кликать сквозь него */
            z-index: 5; /* Поверх фона, но под текстом/кнопками, или поверх всего - по вкусу */
            opacity: 0; /* Скрыт по умолчанию */
            
            /* overlay делает вспышку "световой", а не просто заливкой краской */
            mix-blend-mode: hard-light; 
        }

        /* Иконка */
        .icon-box {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FDE047 0%, #F59E0B 100%);
            box-shadow: 0 0 25px rgba(245, 158, 11, 0.4);
            border: 2px solid rgba(255,255,255,0.15);
            display: flex; justify-content: center; align-items: center;
            margin-bottom: 24px;
            position: relative; z-index: 10;
        }
        .icon-box svg { width: 20px; height: 20px; fill: #451a03; }

        h2 {
            font-size: 15px; font-weight: 700; margin: 0; color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            position: relative; z-index: 10;
        }

        /* Контент */
        .content {
            opacity: 0; margin-top: 20px; transform: translateY(10px);
            position: relative; z-index: 10;
        }
        .text { font-size: 13px; line-height: 1.6; color: #e4e4e7; padding-bottom: 40px; }

        /* Кнопка */
        .toggle-btn {
            position: absolute; bottom: 24px; right: 24px;
            width: 44px; height: 44px;
            border-radius: 50%; border: none; cursor: pointer;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex; justify-content: center; align-items: center;
            transition: 0.3s; z-index: 20;
        }
        .toggle-btn:hover { background: rgba(255, 255, 255, 0.3); transform: scale(1.05); }
        .arrow {
            width: 8px; height: 8px;
            border-right: 2px solid #fff; border-bottom: 2px solid #fff;
            transform: rotate(45deg); margin-top: -3px; transition: transform 0.3s;
        }
    </style>
</head>
<body>

    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>
    <div class="blob blob-4"></div>

    <div class="card" id="myCard">
        <div class="flash-layer" id="flash"></div>

        <div class="icon-box">
            <svg viewBox="0 0 24 24"><path d="M20 3H4C2.89 3 2 3.89 2 5V15C2 16.1 2.89 17 4 17H8V19H16V17H20C21.1 17 22 16.1 22 15V5C22 3.89 21.1 3 20 3ZM20 15H4V5H20V15Z"/></svg>
        </div>

        <h2>Computer Monitoring</h2>

        <div class="content">
            <div class="text">
                SCOPD is the leading solution for computer monitoring. 
                Record screens, capture screenshots, and track user activity seamlessly.
            </div>
        </div>

        <button class="toggle-btn" id="btn">
            <div class="arrow"></div>
        </button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        const card = document.getElementById('myCard');
        const btn = document.getElementById('btn');
        const arrow = document.querySelector('.arrow');
        const flash = document.getElementById('flash');
        
        let isOpen = false;

        // Функция создания случайной вспышки
        function triggerRandomFlash() {
            // 1. Случайный цвет (HSL)
            // Hue 0-360, Saturation 80-100%, Lightness 60-80% (чтобы было ярко)
            const randomH = Math.floor(Math.random() * 360);
            const randomColor = `hsla(${randomH}, 100%, 70%, 0.8)`;
            
            // 2. Случайная позиция центра вспышки (X и Y в процентах)
            const randomX = Math.floor(Math.random() * 100);
            const randomY = Math.floor(Math.random() * 100);

            // 3. Применяем градиент: Белый центр -> Случайный цвет -> Прозрачность
            flash.style.background = `radial-gradient(circle at ${randomX}% ${randomY}%, white 0%, ${randomColor} 20%, transparent 70%)`;

            // 4. Анимация вспышки через GSAP
            // fromTo: резко появляется и плавно исчезает
            gsap.fromTo(flash, 
                { opacity: 0.8 }, // Начальная яркость
                { opacity: 0, duration: 0.6, ease: "power2.out" } // Исчезает за 0.6 сек
            );
        }

        btn.addEventListener('click', () => {
            // ЗАПУСКАЕМ ВСПЫШКУ ПРИ КАЖДОМ НАЖАТИИ
            triggerRandomFlash();

            if (!isOpen) {
                // Open Logic
                gsap.to(card, { height: "auto", duration: 0.6, ease: "power3.out" });
                gsap.to(".content", { opacity: 1, y: 0, duration: 0.4, delay: 0.1 });
                gsap.to(arrow, { rotation: 180, duration: 0.3 });
            } else {
                // Close Logic
                gsap.to(card, { height: 190, duration: 0.5, ease: "power3.inOut" });
                gsap.to(".content", { opacity: 0, y: 10, duration: 0.3 });
                gsap.to(arrow, { rotation: 0, duration: 0.3 });
            }
            isOpen = !isOpen;
        });
    </script>

</body>
</html>